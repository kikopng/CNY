<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 CNY Goodies Shop</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        :root {
            --cny-red: #c41e3a;
            --cny-dark-red: #8a0b1e;
            --cny-gold: #d4af37;
            --cny-light-gold: #f3e5ab;
            --bg-cream: #fffdf5;
            --text-dark: #3e0c13;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-cream);
            color: var(--text-dark);
            margin: 0;
            padding-bottom: 120px;
            background-image: radial-gradient(var(--cny-gold) 1px, transparent 1px);
            background-size: 30px 30px;
            scroll-behavior: smooth;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--text-dark), var(--cny-red));
            color: var(--cny-gold);
            text-align: center;
            padding: 40px 20px 20px;
            border-bottom: 4px solid var(--cny-gold);
        }

        h1 { margin: 0; font-size: 2.2rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .subtitle { font-size: 1.1rem; margin-top: 5px; opacity: 0.9; }

        /* Sticky Navigation */
        .category-nav {
            position: sticky;
            top: 0;
            background: white;
            padding: 10px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 100;
            display: flex;
            justify-content: center;
            gap: 10px;
            overflow-x: auto;
        }

        .nav-btn {
            padding: 8px 16px;
            border-radius: 20px;
            text-decoration: none;
            color: var(--cny-dark-red);
            font-weight: bold;
            border: 1px solid var(--cny-red);
            font-size: 0.9rem;
            white-space: nowrap;
            transition: all 0.3s;
        }

        .nav-btn.active, .nav-btn:hover {
            background: var(--cny-red);
            color: white;
        }

        /* Container */
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }

        /* Section Styling */
        .category-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 40px 0 20px;
            gap: 15px;
        }

        .category-header h2 {
            font-size: 1.8rem;
            color: var(--cny-dark-red);
            border-bottom: 3px solid var(--cny-gold);
            display: inline-block;
            padding-bottom: 5px;
            margin: 0;
        }

        .sub-header {
            text-align: center;
            color: var(--cny-gold);
            background: var(--cny-dark-red);
            display: inline-block;
            padding: 5px 20px;
            border-radius: 15px;
            font-weight: bold;
            margin-bottom: 20px;
            position: relative;
            left: 50%;
            transform: translateX(-50%);
        }

        /* Promo Banner */
        .promo-banner {
            background: linear-gradient(45deg, var(--cny-gold), var(--cny-light-gold));
            color: var(--text-dark);
            text-align: center;
            padding: 12px;
            font-weight: bold;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0% {transform: scale(1);} 50% {transform: scale(1.01);} 100% {transform: scale(1);} }

        /* Grids */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        /* Card */
        .card {
            background: white;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid rgba(212, 175, 55, 0.3);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: transform 0.2s;
        }
        .card:hover { transform: translateY(-5px); border-color: var(--cny-gold); }
        .card.in-cart { background-color: #fff5f5; border: 2px solid var(--cny-red); }

        .top-tag {
            background: var(--cny-gold); color: var(--text-dark);
            font-size: 0.75rem; font-weight: bold; padding: 2px 8px;
            border-radius: 4px; display: inline-block; margin-bottom: 5px;
        }

        .card-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .price-tag { 
            background: var(--cny-red); color: white; 
            padding: 5px 10px; border-radius: 15px; font-weight: bold; 
        }

        .product-name { font-weight: 700; font-size: 1.1rem; color: var(--text-dark); margin-bottom: 5px; }
        .product-weight { font-size: 0.9rem; color: #777; margin-bottom: 15px; font-style: italic; }

        /* Buttons */
        .add-btn {
            background: white; color: var(--cny-red); border: 2px solid var(--cny-red);
            padding: 8px; width: 100%; border-radius: 8px; cursor: pointer; font-weight: bold;
        }
        .add-btn:hover { background: var(--cny-red); color: white; }

        .qty-control {
            display: none; align-items: center; justify-content: center; gap: 10px;
            background: white; border-radius: 8px; padding: 5px;
        }
        .qty-btn {
            width: 30px; height: 30px; border-radius: 50%; border: none;
            background: var(--cny-red); color: white; font-weight: bold; cursor: pointer;
        }
        .qty-number { font-weight: bold; width: 30px; text-align: center; }
        
        .card.in-cart .add-btn { display: none; }
        .card.in-cart .qty-control { display: flex; }

        /* Hamper Section */
        .hamper-box {
            background: linear-gradient(135deg, #3e0c13, #5a121c);
            color: var(--cny-gold);
            border: 2px solid var(--cny-gold);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-top: 40px;
        }
        .hamper-btn {
            background: var(--cny-gold); color: var(--text-dark);
            padding: 12px 25px; text-decoration: none; border-radius: 30px;
            font-weight: bold; display: inline-block; margin-top: 15px;
            transition: all 0.3s;
        }
        .hamper-btn:hover { background: white; }

        /* Cart Bar */
        .cart-bar {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 600px;
            background: var(--text-dark); color: white;
            padding: 15px 25px; border-radius: 50px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.4);
            display: none; justify-content: space-between; align-items: center;
            z-index: 1000; border: 2px solid var(--cny-gold);
        }
        .checkout-btn {
            background: #25D366; color: white; text-decoration: none;
            padding: 10px 20px; border-radius: 25px; font-weight: bold;
            display: flex; align-items: center; gap: 8px;
        }
    </style>
</head>
<body>

<header>
    <h1>ğŸ§§ 2026 CNY Shop ğŸ§§</h1>
    <div class="subtitle">Biscuits â€¢ Dried Meat â€¢ Hampers</div>
</header>

<!-- Navigation -->
<nav class="category-nav">
    <a href="#section-biscuits" class="nav-btn">ğŸª Biscuits</a>
    <a href="#section-meat" class="nav-btn">ğŸ¥© Dried Meat (Bakkwa)</a>
    <a href="#section-hampers" class="nav-btn">ğŸ Hampers</a>
</nav>

<div class="container">

    <!-- ================= BISCUITS SECTION ================= -->
    <div id="section-biscuits">
        <div class="category-header">
            <h2><i class="fas fa-cookie-bite"></i> CNY Cookies</h2>
        </div>

        <div class="sub-header">ğŸ”¥ Hot Selling - RM 18</div>
        <div class="promo-banner">âœ¨ PROMO: Mix & Match any 3 for RM 52! (RM18 items only) âœ¨</div>
        <div class="product-grid" id="grid-18"></div>

        <div class="sub-header">âœ¨ Premium - RM 22</div>
        <div class="product-grid" id="grid-22"></div>

        <div class="sub-header">ğŸ’ Signature Selection</div>
        <div class="product-grid" id="grid-signature"></div>
    </div>

    <!-- ================= DRIED MEAT SECTION ================= -->
    <div id="section-meat">
        <div class="category-header">
            <h2><i class="fas fa-drumstick-bite"></i> BBQ Dried Meat (è‚‰å¹²)</h2>
        </div>
        <p style="text-align: center; color: #666; margin-bottom: 20px;">
            Freshly grilled with charcoal fire â€¢ Vacuum Packed
        </p>
        <div class="product-grid" id="grid-meat"></div>
    </div>

    <!-- ================= HAMPER SECTION ================= -->
    <div id="section-hampers" class="hamper-box">
        <i class="fas fa-gift" style="font-size: 3rem; margin-bottom: 15px;"></i>
        <h2>CNY Gift Hampers (ç¤¼ç¯®)</h2>
        <p>We have a variety of beautiful hampers suitable for family and corporate gifting.</p>
        <p style="font-size: 0.9rem; opacity: 0.8;">Customization available based on your budget.</p>
        
        <a href="#" onclick="inquireHamper()" class="hamper-btn">
            <i class="fab fa-whatsapp"></i> PM to Customize Hamper
        </a>
    </div>

</div>

<!-- Floating Cart -->
<div class="cart-bar" id="cartBar">
    <div style="display: flex; flex-direction: column;">
        <span style="font-size: 1.2rem; font-weight: bold; color: var(--cny-gold);">RM <span id="totalPrice">0</span></span>
        <span style="font-size: 0.8rem; opacity: 0.8;"><span id="totalItems">0</span> items selected</span>
    </div>
    <a href="javascript:void(0)" class="checkout-btn" onclick="sendOrderWhatsapp()">
        <i class="fab fa-whatsapp"></i> Send Order
    </a>
</div>

<script>
    // --- 1. Product Data ---
    const products = [
        // --- BISCUITS (RM 18) ---
        { id: 101, name: "ç‚¸èŠ½è‡ (Fried Ngaku)", weight: "", price: 18, cat: "hot" },
        { id: 102, name: "è™¾ç±³å· (Hae Bee Hiam Rolls)", weight: "270g", price: 18, cat: "hot" },
        { id: 103, name: "é¸¡ä¸å· (Chicken Floss Rolls)", weight: "200g", price: 18, cat: "hot" },
        { id: 104, name: "ç‚¸ç´«èœé¥¼ (Fried Seaweed)", weight: "125g", price: 18, cat: "hot" },
        { id: 105, name: "ç‚¸èŸ¹æŸ³ (Fried Crab Stick)", weight: "150g", price: 18, cat: "hot" },
        { id: 106, name: "é›ªèŠ±é£˜é£˜ (Snowflake Flakes)", weight: "300g", price: 18, cat: "hot" },
        { id: 107, name: "åŒè‰²ç•ªè–¯é¥¼ (Sweet Potato Chips)", weight: "160g", price: 18, cat: "hot" },
        { id: 108, name: "é‡‘ç“œé¥¼ (Pumpkin Crackers)", weight: "160g", price: 18, cat: "hot" },
        { id: 109, name: "è±†è…é¥¼ (Tofu Crackers)", weight: "150g", price: 18, cat: "hot" },
        { id: 110, name: "ç´«èœæ£’ (Seaweed Sticks)", weight: "240g", price: 18, cat: "hot" },
        { id: 111, name: "å°é¸¡è›‹é…¥ (Egg Cookies)", weight: "360g", price: 18, cat: "hot" },
        { id: 112, name: "äº”é¦™è±†é¥¼ (5-Spice Bean Crackers)", weight: "280g", price: 18, cat: "hot" },
        { id: 113, name: "è‰è“è›‹å· (Strawberry Egg Rolls)", weight: "300g", price: 18, cat: "hot" },
        { id: 114, name: "å·§å…‹åŠ›è›‹å· (Chocolate Egg Rolls)", weight: "300g", price: 18, cat: "hot" },
        { id: 115, name: "èŠ±ç”Ÿè§’ (Peanut Puffs)", weight: "450g", price: 18, cat: "hot" },
        { id: 116, name: "ç•ªå©†é¥¼ (Kuih Bangkit)", weight: "400g", price: 18, cat: "hot" },
        { id: 117, name: "è‚‰æ¾ Kuih Kapit (Meat Floss)", weight: "", price: 18, cat: "hot" },

        // --- BISCUITS (RM 22) ---
        { id: 201, name: "é»„æ¢¨é…¥å· (Pineapple Rolls)", weight: "400g", price: 22, cat: "prem" },
        { id: 202, name: "é»„æ¢¨çƒ (Pineapple Balls)", weight: "300g", price: 22, cat: "prem" },
        { id: 203, name: "èŠ‹å¤´é…¥ (Yam Cookies)", weight: "230g", price: 22, cat: "prem" },
        { id: 204, name: "å’¸è›‹é±¼çš® (Salted Egg Fish Skin)", weight: "130g", price: 22, cat: "prem" },
        { id: 205, name: "ç™½æä»é…¥ (Almond Cookies)", weight: "350g", price: 22, cat: "prem" },
        { id: 206, name: "èŠ±ç”Ÿé…¥ (Peanut Cookies)", weight: "400g", price: 22, cat: "prem" },
        { id: 207, name: "é¾™é…¥é¥¼ (Dragon Cookies)", weight: "", price: 22, cat: "prem" },
        { id: 208, name: "æ¤°ä¸ç•ªå©†é¥¼ (Coconut Bangkit)", weight: "220g", price: 22, cat: "prem" },
        { id: 209, name: "Kuih Kapit (Traditional)", weight: "400g", price: 22, cat: "prem" },
        { id: 210, name: "èŠ±ç”Ÿé…± Nyonya Kapit (Peanut Butter)", weight: "", price: 22, cat: "prem" },

        // --- BISCUITS (Signature) ---
        { id: 301, name: "Premium Kuih Kapit", weight: "", price: 25, cat: "sig" },
        { id: 302, name: "æ··é…± Nyonya Kapit (Mixed Sauce)", weight: "", price: 28, cat: "sig" },
        { id: 303, name: "èŠ±ç”Ÿç¢ Nyonya Kapit (Crushed Peanut)", weight: "", price: 28, cat: "sig" },
        { id: 304, name: "èœ‚èœœæ‚è±†ç‰‡ (Honey Mixed Nuts)", weight: "", price: 28, cat: "sig" },

        // --- DRIED MEAT (New Items) ---
        { id: 401, name: "æ‰‹å·¥çŒªè‚‰å¹² (Minced Pork BBQ Meat)", weight: "500g", price: 50, cat: "meat" },
        { id: 402, name: "èœœç³–çŒªè‚‰åˆ‡ç‰‡ (Honey Sliced Pork)", weight: "500g", price: 60, cat: "meat", top: true },
        { id: 403, name: "æ‰‹å·¥é¸¡è‚‰å¹² (Minced Chicken BBQ Meat)", weight: "500g", price: 51, cat: "meat" },
        { id: 404, name: "Mini èœœç³–çŒªè‚‰å¹² (Mini Pork BBQ)", weight: "400g", price: 50, cat: "meat" },
        { id: 405, name: "æ‰‹å·¥é¸¡è‚‰æ¾ (Handmade Chicken Floss)", weight: "250g+", price: 23, cat: "meat" }
    ];

    // --- 2. State & Config ---
    let cart = {};
    const PHONE_NUMBER = "60199881373"; // <--- CHANGE THIS

    // --- 3. Render Functions ---
    function renderCard(p) {
        const weightText = p.weight ? `<div class="product-weight">${p.weight}</div>` : '<div class="product-weight" style="visibility:hidden">-</div>';
        const topBadge = p.top ? '<div class="top-tag"><i class="fas fa-crown"></i> Top Seller</div>' : '';

        return `
            <div class="card" id="card-${p.id}">
                <div class="card-header">
                     ${topBadge}
                    <div class="price-tag" style="margin-left: auto;">RM ${p.price}</div>
                </div>
                <div>
                    <div class="product-name">${p.name}</div>
                    ${weightText}
                </div>
                <div>
                    <button class="add-btn" onclick="updateCart(${p.id}, 1)">ADD +</button>
                    <div class="qty-control">
                        <button class="qty-btn" onclick="updateCart(${p.id}, -1)">-</button>
                        <span class="qty-number" id="qty-${p.id}">0</span>
                        <button class="qty-btn" onclick="updateCart(${p.id}, 1)">+</button>
                    </div>
                </div>
            </div>
        `;
    }

    function renderAll() {
        const setHtml = (id, list) => {
            const el = document.getElementById(id);
            if(el) el.innerHTML = list.map(renderCard).join('');
        };

        setHtml('grid-18', products.filter(p => p.cat === 'hot'));
        setHtml('grid-22', products.filter(p => p.cat === 'prem'));
        setHtml('grid-signature', products.filter(p => p.cat === 'sig'));
        setHtml('grid-meat', products.filter(p => p.cat === 'meat'));
    }

    // --- 4. Cart Logic ---
    window.updateCart = function(id, change) {
        if (!cart[id]) cart[id] = 0;
        cart[id] += change;
        
        if (cart[id] <= 0) {
            delete cart[id];
            document.getElementById(`card-${id}`).classList.remove('in-cart');
        } else {
            document.getElementById(`card-${id}`).classList.add('in-cart');
            document.getElementById(`qty-${id}`).innerText = cart[id];
        }
        recalcTotal();
    }

    function recalcTotal() {
        let total = 0;
        let count = 0;
        let hotItemsCount = 0;

        for (const [id, qty] of Object.entries(cart)) {
            const product = products.find(p => p.id == id);
            count += qty;

            if (product.cat === 'hot') {
                hotItemsCount += qty;
            } else {
                total += (product.price * qty);
            }
        }

        // Apply Promo 3 for 52 ONLY on 'hot' items
        const bundles = Math.floor(hotItemsCount / 3);
        const remainder = hotItemsCount % 3;
        total += (bundles * 52) + (remainder * 18);

        // Update UI
        document.getElementById('totalPrice').innerText = total;
        document.getElementById('totalItems').innerText = count;
        
        const cartBar = document.getElementById('cartBar');
        cartBar.style.display = count > 0 ? "flex" : "none";
    }

    // --- 5. WhatsApp Functions ---
    window.sendOrderWhatsapp = function() {
        if (Object.keys(cart).length === 0) return;
        
        let msg = "Hi! I would like to place an order for:\n\n";
        
        // Grouping
        const biscuitIds = Object.keys(cart).filter(id => products.find(p=>p.id==id).cat !== 'meat');
        const meatIds = Object.keys(cart).filter(id => products.find(p=>p.id==id).cat === 'meat');

        if(biscuitIds.length > 0) {
            msg += "*ğŸª BISCUITS:*\n";
            biscuitIds.forEach(id => {
                const p = products.find(x => x.id == id);
                msg += `â–ªï¸ ${p.name} x${cart[id]}\n`;
            });
            msg += "\n";
        }

        if(meatIds.length > 0) {
            msg += "*ğŸ¥© DRIED MEAT:*\n";
            meatIds.forEach(id => {
                const p = products.find(x => x.id == id);
                msg += `â–ªï¸ ${p.name} x${cart[id]}\n`;
            });
            msg += "\n";
        }

        const total = document.getElementById('totalPrice').innerText;
        msg += `ğŸ’° *Total: RM ${total}*\n`;
        msg += "ğŸ“ Please advise on payment/delivery.";

        window.open(`https://wa.me/${PHONE_NUMBER}?text=${encodeURIComponent(msg)}`, '_blank');
    }

    window.inquireHamper = function() {
        const msg = "Hi! I am interested in your CNY Hampers (ç¤¼ç¯®). Can you send me the catalog or price list?";
        window.open(`https://wa.me/${PHONE_NUMBER}?text=${encodeURIComponent(msg)}`, '_blank');
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', renderAll);

</script>

</body>
</html>